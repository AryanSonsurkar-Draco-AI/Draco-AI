 <!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Draco Assistant</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="flames" aria-hidden="true"></div>
  <div class="wrap">
    <h1 style="display:none;">Draco AI</h1>
    <div class="status" style="display:none;"><span class="dot" id="dot"></span><span id="statusText">Connectingâ€¦</span></div>
    <div class="toggleBar">
      <button class="btn hamburger-btn" id="mobileMenuBtn" aria-expanded="false" aria-controls="sidebar">
        <span class="hamburger-icon" aria-hidden="true"></span>
        <span class="hamburger-label">Menu</span>
      </button>
      <div class="toggleBar-actions">
        <button class="btn" id="toggleSide">Hide Sidebar</button>
        <button class="btn" id="expandSide">Expand</button>
      </div>
    </div>
    <div class="layout" id="layout">
      <div class="side" id="sidebar">
        <div class="profile">
          <div class="avatar" id="avatar" style="width:72px; height:72px;">
            <img id="dracoLogo" src="/static/Draco%20AI%20logo.jpg" alt="Draco Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='grid';" />
            <div class="fallback" style="display:none;">D</div>
          </div>
          <div class="meta" style="text-align:center;">
            <div id="profName">Draco AI</div>
            <small id="profEmail">Powered by Aryan and his co-workers</small>
          </div>
        </div>
        <div class="card" style="margin-top:10px; padding:12px; display:flex; flex-direction:column; gap:10px;">
          <div style="font-weight:600; font-size:13px;">Draco Pro</div>
          <a class="btn" id="buyProBtn" href="/pro" style="width:100%; text-align:center;">Buy Draco Pro</a>
          <div style="font-weight:600; font-size:12px; margin-top:4px;">Contact</div>
          <div class="row" style="gap:8px;">
            <a class="btn" id="contactWhatsApp" href="https://wa.me/918291748613" target="_blank" rel="noopener" style="flex:1; text-align:center;">WhatsApp</a>
            <a class="btn" id="contactInstagram" href="https://instagram.com/draco.exe404" target="_blank" rel="noopener" style="flex:1; text-align:center;">Instagram</a>
          </div>
        </div>
        <div class="sideActions">
          <button class="btn" id="newChatBtn" style="flex:1; padding:8px 10px; font-size:12px;">New Chat</button>
          <button class="btn" id="clearChatBtn" style="flex:1; padding:8px 10px; font-size:12px;">Clear</button>
        </div>
        <div class="themeToggle" style="margin-top:4px;">
          <div style="font-weight:600;">Theme</div>
          <div class="toggleSwitch" style="display:flex; align-items:center; gap:8px;">
            <input type="checkbox" id="themeCheckbox" style="position:absolute; opacity:0; width:0; height:0;" />
            <label for="themeCheckbox" class="theme-toggle" aria-label="Toggle theme">
              <span class="slider"></span>
            </label>
          </div>
        </div>
        <!-- Quick Actions moved to bottom sheet -->
        <div class="history" id="history"></div>
        <div class="card" id="memoryCard" style="margin-top:10px;">
          <div style="font-weight:600; margin-bottom:10px; text-align:center;">Your Profile</div>
          <div id="memInfo" style="font-size:14px; color:var(--text);"></div>
          <div class="row" style="flex-direction:column; gap:8px; margin-top:10px;">
            <div class="button-container"><button class="btn" id="editInfoBtn" style="width:100%;">Edit Info</button></div>
            <div class="button-container"><button class="btn" id="forgetMeBtn" style="width:100%;">Forget Me</button></div>
          </div>
        </div>
      </div>
      <div class="card">
        <div id="errorBanner" class="error-banner">
          <span id="errorText">Something went wrong.</span>
          <div class="error-actions">
            <button class="btn" id="copyErrorBtn">Copy Log</button>
            <button class="btn" id="retryBtn">Retry</button>
          </div>
        </div>
        <div id="chatHero" class="chat-hero">
          <div id="heroGreeting" class="chat-hero-title">Good to see you.</div>
          <div class="chat-hero-sub">Ask anything to get started.</div>
        </div>
        <div class="log" id="log"></div>
        <div id="typing" class="typing hidden">Draco is thinking...</div>
        <div class="input" style="margin-top:12px;">
          <input id="input" type="text" placeholder="Type a command (e.g., open youtube, play music, take note ...)" />
          <button class="btn" id="quickActionsBtn" style="white-space:nowrap;" title="Quick Actions">+</button>
          <button class="btn" id="sendBtn">Send</button>
        </div>
        <div class="row" style="margin-top:10px; margin-bottom:10px;">
          <button class="btn" id="micBtn">ðŸŽ¤ Speak</button>
          <button class="btn" id="stopSpeakBtn">ðŸ›‘ Stop Voice</button>
        </div>
        <div class="chipbar" id="chips">
          <div class="chip" data-cmd="open youtube">Open YouTube</div>
          <div class="chip" data-cmd="play music">Play Music</div>
          <div class="chip" data-cmd="take note buy milk">Take Note</div>
          <div class="chip" data-cmd="list notes">List Notes</div>
          <div class="chip" data-cmd="system status">System Status</div>
          <div class="chip" data-cmd="search for render deployment guide">Search Web</div>
        </div>
        <div class="chipbar" id="summaryChips" style="margin-top:10px;">
          <div class="chip pill" data-summary="short">Summary: Short</div>
          <div class="chip pill" data-summary="medium">Summary: Medium</div>
          <div class="chip pill" data-summary="detailed">Summary: Detailed</div>
        </div>
        <div class="chipbar" id="fileChips" style="margin-top:10px;">
          <div class="chip" data-instruction="summarize">Summarize File</div>
          <div class="chip" data-instruction="shorten">Shorten File</div>
          <div class="chip" data-instruction="lengthen">Lengthen File</div>
          <div class="chip" data-instruction="search">Search Web For Same</div>
        </div>
        <div class="chipbar" id="workflowChips" style="margin-top:10px;">
          <div class="chip pill" data-action="compare">Compare Files</div>
          <div class="chip pill" data-action="merge">Merge Files</div>
        </div>
        <small>Tip: Try "open youtube", "play music", "list notes", "remind me to drink water at 19:30"</small>
        <div class="card" style="margin-top:12px;">
          <div style="font-weight:600; margin-bottom:8px;">Generated Downloads</div>
          <div id="downloadsPanel" style="font-size:14px; display:flex; flex-direction:column; gap:6px;"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="mobileSidebarOverlay" class="mobile-overlay" role="presentation"></div>

  <!-- Quick Actions bottom sheet modal -->
  <div id="quickActionsModal">
    <div class="qa-backdrop"></div>
    <div class="qa-panel">
      <div class="qa-header">
        <div class="qa-header-title">Quick Actions</div>
        <button id="qaCloseBtn" class="qa-close-btn">X</button>
      </div>
      <div class="row" style="flex-direction:column; gap:12px;">
        <input id="genTopicSide" type="text" class="input" placeholder="Topic (e.g., Quantum Computing)" />
        <div class="button-container"><button class="btn" id="genPPTSide" style="width:100%;">Generate PPT</button></div>
        <div class="button-container"><button class="btn" id="genPDFSide" style="width:100%;">Generate PDF</button></div>
        <div class="button-container"><button class="btn" id="genDOCSide" style="width:100%;">Generate DOCX</button></div>
        <input id="fileInput" type="file" accept=".pdf,.pptx,.docx" style="display:none;" />
        <input id="instruction" type="text" class="input" placeholder="Instruction (optional, e.g., summarize)" style="display:none;" />
        <div class="button-container"><button class="btn" id="chooseFileBtn" style="width:100%;">Choose File</button></div>
        <div class="button-container"><button class="btn" id="uploadBtn" style="width:100%;">Upload File</button></div>
        <div id="dropZone" class="dropzone">Drag & Drop file here</div>
        <div class="progress" id="uploadProgress" style="display:none;"><span></span></div>
        <div id="uploadStep" style="font-size:12px; color:var(--muted); margin-top:4px;"></div>
        <!-- Theme toggle moved to sidebar -->
        <div id="fileNameLabel" style="margin-top:2px; color:var(--muted); font-size:13px;"></div>
        <div id="fileSizeLabel" style="color:var(--muted); font-size:12px;"></div>
        <div id="uploadNote" style="margin-top:4px; color:var(--muted); font-size:13px;"></div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="static/js/draco.js" defer></script>
</body>
</html>


